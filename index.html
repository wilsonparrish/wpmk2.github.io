<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>D20 tabletop</title>

    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
    <!--<link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">-->
    <link rel="stylesheet" href="w3.style.css">
    <link rel="stylesheet" href="style.css">
</head>

<body ng-app="app">
    <div class="w3-row" ng-controller="sidebarCtrl" id="main-body">
        <div class="w3-col w3-light-blue w3-card-8" ng-class="hideMenu ? 'm2 l1' : 'm4 l3'" id="sidebar">
            <header class="w3-container w3-blue-grey">
                <h1>Table Top Tools</h1>
            </header>
            <div ng-class="hideMenu ? 'hidden-menu' : 'sidebar-content'">
                <div class="w3-card-8 w3-white feature-card">
                    <div class="w3-container w3-indigo card-header" ng-click="hideCard('hideProfile')" title="Click to Hide">
                        <img src="/images/weapons_medieval_helmet-512.png" style="width:30px;">
                        <h3 style="display: inline-block">Your Profile</h3>
                    </div>
                    <div class="feature-card-content" ng-hide="hideProfile">
                        <div ng-show="firebaseUser">Hello, {{firebaseUser.user.displayName}}</div>
                        <div ng-hide="firebaseUser">
                            It looks like you're not logged in.
                            <br>
                            <button ng-click="signIn()" class="w3-btn w3-red">Sign in with Google</button>
                        </div>
                        <br>
                        <button class="w3-btn w3-indigo" id="logout-button" ng-show="firebaseUser" ng-click="logout()">Logout</button>
                    </div>
                </div>
                <br>
                <div class="w3-card-8 w3-white feature-card">
                    <div class="w3-container w3-indigo card-header" ng-click="hideCard('hideNav')" title="Click to Hide">
                        <img src="/images/compas-152-201442.png" style="width:30px;">
                        <h3 style="display: inline-block">Navigation</h3>
                    </div>
                    <div class="feature-card-content" ng-hide="hideNav">
                        <ul>
                            <li>
                                <a ui-sref="home">Home</a>
                            </li>
                            <li>
                                <a ui-sref="divmap">DivMap</a>
                            </li>
                            <li>
                                <a ui-sref="divmapMaker">DivMap Maker</a>
                            </li>
                            <li>
                                <a ui-sref="lobbyBrowser">Browse Lobbies</a>
                            </li>
                            <li>
                                <a ui-sref="campaignLobby({campaignId: 12})">Campaign Lobby</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <br>
                <div class="w3-card-8 w3-white feature-card">
                    <div class="w3-container w3-indigo card-header" ng-click="hideCard('hideDice')" title="Click to Hide">
                        <img src="/images/dice-152-92041.png" style="width:30px;">
                        <h3 style="display: inline-block">Dice roller</h3>
                    </div>
                    <div class="feature-card-content" ng-hide="hideDice">
                        Number of Dice x Type of Dice + Modifiers
                        <div class="dice-bag">
                            <input type="number" id="dice-number"> x
                            <select name="dice-type" id="dice-type">
                            <option value="3">d3</option>
                            <option value="4">d4</option>
                            <option value="6">d6</option>
                            <option value="8">d8</option>
                            <option value="10">d10</option>
                            <option value="12">d12</option>
                            <option value="20">d20</option>
                            <option value="100">d100</option>                            
                        </select> +
                            <input type="number" id="dice-modifier">&nbsp&nbsp
                            <br><br>
                            <button class="w3-btn w3-indigo" id="roll-button">Roll!</button>&nbsp&nbsp
                            <span id="roll"></span>
                            <span id="individual-rolls"></span>
                        </div>
                        <br> Recent Rolls
                        <div id="recent-rolls"></div>
                    </div>
                </div>
                <br>
                <div class="w3-card-8 w3-white feature-card">
                    <div class="w3-container w3-indigo card-header" ng-click="hideCard('logBooks')" title="Click to Hide">
                        <img src="/images/brown-book1.png" style="width:30px;">
                        <h3 style="display: inline-block">Log Books</h3>
                    </div>
                    <div class="feature-card-content" ng-hide="logBooks">
                        <label for="note-pad">Note Pad (can be resized)</label><br>
                        <textarea name="note-pad" ng-model="notePad" id="" cols="25" rows="10" ng-disabled="!firebaseUser.user" ng-change="saveNotePad()"></textarea>
                        <button class="w3-btn w3-indigo" id="journal-button">Open Party Journal</button>
                    </div>
                </div>
                <br>
            </div>
            <div class="sidebar-content">
                <button id="hide-menu-btn" class="w3-btn w3-indigo" ng-click="hideMenu=!hideMenu">Toggle Menu</button>
            </div>
        </div>

        <ui-view class="w3-col" ng-class="hideMenu ? 'm10 l11' : 'm8 l9'"></ui-view>
    </div>

    <!-- Jquery -->
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
        crossorigin="anonymous"></script>
    <!-- AngularJS -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.3.1/angular-ui-router.js"></script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.2.0/firebase.js"></script>
    <script>
         // Initialize Firebase
         var config = {
            apiKey: "AIzaSyDREENmIptW3k9iE2d3L16Y_BX86UUeHtk",
            authDomain: "tabletop-tools.firebaseapp.com",
            databaseURL: "https://tabletop-tools.firebaseio.com",
            storageBucket: "tabletop-tools.appspot.com",
         };
        firebase.initializeApp(config);
    </script>
    <!-- AngularFire -->
    <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>

    <!-- Project Scripts -->
    <script src="scripts/app.module.js"></script>
    <script src="scripts/app.routes.js"></script>
    <script src="scripts/controllers/divmapCtrl.js"></script>
    <script src="scripts/controllers/divmapMakerCtrl.js"></script>
    <script src="scripts/controllers/sidebarCtrl.js"></script>
    <script src="scripts/controllers/lobbyCtrl.js"></script>
    <script src="scripts/controllers/lobbyBrowserCtrl.js"></script>    
    <script src="scripts/services/campaignService.js"></script>
    <script src="scripts/filters/startFrom.js"></script>                            

    <script>
        // Jquery to help the sidebar work right
        function checkSidebarHeight () {
            var intViewportHeight = window.innerHeight;
            var height = $('#main-body').height();
            if (intViewportHeight > height) {
                $('#sidebar').height(intViewportHeight);
            } else {
                $('#sidebar').height(height);
            } 
        }
        window.setInterval(checkSidebarHeight, 500);
    </script>

</body>

</html>